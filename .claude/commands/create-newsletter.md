---
allowed-tools: [Read, Write, Glob, Bash, AskUserQuestion]
description: UXエンジニア向けニュースレターを作成するコマンド
---

# ニュースレター作成

このコマンドは、取得済みの記事からニュースレターを生成します。
記事のカテゴリやジャンルは限定せず、詳細解説でUXエンジニアリングの視点から解釈を加えます。

## 処理手順

### 1. 記事一覧の取得

まず、利用可能な記事を確認します。

```bash
# 最新の記事ディレクトリを確認
ls -la articles/
```

Globツールで `articles/**/*.md` パターンで記事を検索し、各記事のタイトル・カテゴリ・publishedDateを読み取ります。

**重要**: 条件にマッチした記事が15件以下の場合は、すべての記事を掲載すること。15件を超える場合のみ、ユーザーに選択を促すか、代表的な記事を選定する。

### 2. 対話的記事選択（15件超の場合）

記事数が15件を超える場合のみ、AskUserQuestionツールを使用してユーザーに記事を選択させます：

- 記事一覧を表示（タイトル、カテゴリ、元URL）
- 複数選択可能（multiSelect: true）
- 選択された記事をハイライト記事として扱う

質問例：
```
「ニュースレターに掲載する記事を選択してください。」
- [記事タイトル1] (カテゴリ: xxx)
- [記事タイトル2] (カテゴリ: xxx)
- ...
```

### 3. 記事の要約生成

選択された各記事について：

1. **記事本文を読み込む**（Readツール）
2. **3行まとめを生成**
   - 記事の核心を3つのポイントに凝縮
   - 各ポイントは1文で簡潔に
3. **詳細解説を生成**（充実した内容で）
   - 記事の背景・文脈を説明
   - 技術的なポイント、アーキテクチャ、実装の詳細を解説
   - **UXエンジニアリングの視点で解釈を加える**：
     - この記事がUXエンジニアの仕事にどう関係するか
     - デザインとエンジニアリングの橋渡しの観点での学び
     - ユーザー体験向上への示唆
     - 実務への応用可能性
   - 記事の限界点や注意点があれば言及
   - 関連するトピックや発展的な内容への言及

### 4. ニュースレター生成

以下のフォーマットでMarkdownファイルを生成：

```markdown
# ニュースレター

**発行日**: YYYY-MM-DD

---

## 今週のハイライト

### [記事タイトル](元記事URL)

> **出典**: フィード名 | **公開日**: YYYY-MM-DD | **カテゴリ**: xxx

**3行まとめ**
1. ポイント1
2. ポイント2
3. ポイント3

**詳細解説**

[充実した解説文。以下の要素を含む：]
- 記事の背景・文脈
- 技術的なポイントの深掘り
- UXエンジニアリング視点での解釈と学び
- 実務への応用可能性

---

（記事ごとに繰り返し）

---

*このニュースレターはClaude Codeによって自動生成されました。*
```

**詳細解説の目安**: 各記事につき300〜500文字程度。記事の内容が豊富な場合はさらに詳しく書いてよい。

### 5. ファイル出力

生成したニュースレターを保存：

- **出力先**: `newsletters/YYYY-MM-DD-HHmmss.md`
- YYYY-MM-DD: 現在の日付
- HHmmss: 現在時刻（重複防止）

```bash
# 現在日時を取得してファイル名を生成
date "+%Y-%m-%d-%H%M%S"
```

### 6. 完了報告

- 作成したファイルのパスを報告
- 含まれる記事数を報告
- ファイルの内容を簡単にプレビュー表示

## 注意事項

- 記事が存在しない場合は、`pnpm run fetch-rss` で記事を取得するよう案内
- 要約は原文の意図を損なわないよう、正確性を重視
- 技術用語は可能な限り日本語で解説
- **記事のカテゴリで絞り込まない**: engineering, design, css, accessibility など全カテゴリを対象とする
- **15件以下なら全て掲載**: 条件にマッチした記事が15件以下の場合は省略せず全て掲載する
- **詳細解説は充実させる**: 単なる要約ではなく、UXエンジニアの視点で解釈・考察を加える
