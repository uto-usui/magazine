---
title: "エフェクト作成入門講座 Effekseer編 ゆがみ効果を使ったトランジションエフェクトの作成"
source: "https://ics.media/entry/12467/"
publishedDate: "2016-06-09"
category: "frontend"
feedName: "ICS MEDIA"
author: "ics"
---

エフェクト作成ツール「[Effekseer](http://effekseer.github.io/jp/)」(エフェクシアー)を使ったエフェクト作成の入門講座第5弾です。今回はゆがみ効果を使ったトランジションエフェクトを取り上げます。作成したエフェクトはUnityに読み込んで使用したり、連番画像ファイルに出力することでWebGLやFlash等にも利用できます。「Effekseer」の使い方は第1弾の記事「[エフェクト作成入門講座 Effekseer編 UVスクロールを使ったマグマエフェクトの作成](https://ics.media/entry/8674/)」で解説していますので、あわせてご覧ください。

### 今回のお題：ゆがみ効果を使ったトランジションエフェクト

### やってみよう：トランジションエフェクトの作成

![](https://ics.media/entry/12467/images/160602_effect05_01.png)

エフェクトの構成図です。サンプルファイルをダウンロードして、記事と照らし合わせながら進められます。各エフェクトのパラメーター設定値はサンプルファイルを直接ご覧ください。

#### 今回紹介するテクニック

1.  ゆがみ効果の仕組みを抑えよう
2.  UVスクロールとゆがみ効果の合わせ技は効果絶大！
3.  テクスチャーによるゆがみ効果の違いを抑えよう
4.  ゆがみ効果でトランジションエフェクトを作成しよう

#### デモエフェクトのダウンロード

-   [GitHub（ics-creative/150916\_effect\_samples）](https://github.com/ics-creative/150820_effect_samples)

### ゆがみ効果の仕組みを抑えよう

![](https://ics.media/entry/12467/images/160602_effect05_02.png)

「ゆがむ」というのは具体的にはどういうことなのでしょう？　まずはゆがみ効果の仕組みを解説します。上の図はチェック柄の板ポリゴン（エフェクトを適用したいオブジェクト）の前面にグラデーション模様のポリゴン（ゆがみテクスチャー）を配置した図です。テクスチャーに**ゆがみ効果**を適用すると、**そのテクスチャーを適用したオブジェクトより背後にあるオブジェクトがゆがんで描画されます。**

Effekseerでは、**ゆがみ効果を適用するテクスチャー画像の各ピクセルのRGBの値を取得し、その赤（R）と緑（G）の値を個別に使用して、背後にあるオブジェクトのテクスチャーのピクセル位置（UV座標）を移動させています。**赤（R）の値で左右にゆがみ、緑（G）の値で上下にゆがみます。RGBの各値は0～255となりますので、中間値である127を境界にして、左右、または上下に移動する（ゆがむ）という仕組みです。これがゆがみの正体です。  
※赤（R）の値によるサンプルは省略します。上下左右の方向はカメラの角度、オブジェクトの角度により変化します。

### UVスクロールとゆがみ効果の合わせ技は効果絶大！

ゆがみ効果の仕組みはつかんでもらえましたか？　これまで本エフェクト講座で度々登場した**UVスクロールと組み合わせると、このゆがみ効果に動きが加わります。**勘の良い方はもう想像がついてるかもしれません。下図のようにゆがみ用テクスチャーをUVスクロールさせると、ゆらゆらとしたゆがみエフェクトを作り出せます。

ここまで来ると「これはおもしろい、使えそう！」と感じてもらえるかなと思います。このようなエフェクトは**WebGLのシェーダーを使ったエフェクトでもテクニックの1つとして応用できる**でしょう。

![](https://ics.media/entry/12467/images/160602_effect05_anime01_low30.gif)![](https://ics.media/entry/12467/images/160602_effect05_anime02.gif)

### テクスチャーによるゆがみ効果の違いを抑えよう

![](https://ics.media/entry/12467/images/160602_effect05_03.png)

本題のトランジションエフェクトに入る前に少し寄り道してみましょう。ゆがみ用のテクスチャーを変えたり、**UVのスケール値を変更**するとさまざまな効果を生み出せます。上の図は、シンプルな円形グラデーションのゆがみテクスチャーを使って**すりガラスエフェクト**を作成する工程です。UVのスケール値を変更するテクニックが効果的です。

![](https://ics.media/entry/12467/images/160602_effect05_04.png)

もう一工夫してみましょう。Effekseerでは**複数のゆがみ効果を一緒に使えます。**先に作成したすりガラスエフェクトに、新たに円形のゆがみ効果を加えて、UVスクロールを施した例です。まったくコードを書くこと無く、このような流体エフェクトを生み出せました。組み合わせ次第でさまざまな効果を作成できるのもゆがみ効果の魅力の1つです。尚、UVスクロールの移動量をそのテクスチャーのサイズを割り切れるように設定すると、下記のようなループ素材を作成できます。

![](https://ics.media/entry/12467/images/160602_effect05_anime03.gif)

### ゆがみ効果でトランジションエフェクトを作成しよう

![](https://ics.media/entry/12467/images/160602_effect05_05.png)

いよいよトランジションエフェクトを作っていきしょう。まずは上図の左上にあるような**ノイズテクスチャーをリング型オブジェクトに適用**し、ゆがみ効果を作成します。さらにノイズテクスチャーにUVスクロールを施すと、このような波紋エフェクトができあがります。

下図の左側はリング型オブジェクトの**境界部分をぼかしたエフェクト**（Effekseerのデフォルト設定）、右側は**境界部分をくっきりとさせたエフェクト**です。この設定はリング型オブジェクトの**頂点のアルファ値を変更することで変化可能**です。今回のデモエフェクトでは左側のぼかしたタイプを適用しています。用途に応じて使い分けるとよいでしょう。

![](https://ics.media/entry/12467/images/160602_effect05_circle2.gif)![](https://ics.media/entry/12467/images/160602_effect05_circle1.gif)

![](https://ics.media/entry/12467/images/160602_effect04_06.png)

波紋エフェクトができたところで、**背景をシンプルにフェードインで切り替えるアニメーションと合成**させると、トランジションエフェクトのでき上がりです。デモエフェクトでは、**六角形型の光のテクスチャーに加算の効果**を加えてゆがみ効果をさらに印象強くさせています。

![](https://ics.media/entry/12467/images/160602_effect05_anime05.gif)

### 終わりに

今回は「ゆがみ効果」の仕組みと基本的な使い方について解説しました。このようなエフェクトはWebGLやUnityのシェーダーを使っても作成できると思います。実際にコーディングをする前にエフェクトツールであたりを付けると、開発チームで認識を合わせる際に便利だったりと、制作がスムーズに進行すると思います。UVスクロールについては、本エフェクト講座の第一弾「[エフェクト作成入門講座 Effekseer編 UVスクロールを使ったマグマエフェクトの作成](https://ics.media/entry/8674/)」でもご紹介していますので合わせてチェックしてみてください。

※Google+の「[エフェクトミドルウェアコミュニティ](https://plus.google.com/communities/100735120232911860301)」でもEffekseerの話題を取り上げていますので気になる方はぜひご参加ください。

#### エフェクト作成入門講座 (バックナンバー)

-   [Effekseer編 UVスクロールを使ったマグマエフェクトの作成](https://ics.media/entry/8674/)
-   [Effekseer編 リング描画を使った乱れ斬りエフェクトの作成](https://ics.media/entry/9270/)
-   [Effekseer編 Fカーブを使った吹雪エフェクトの作成](https://ics.media/entry/10377/)
-   [PopcornFx編 タービュランスノイズを使った花火エフェクトの作成](https://ics.media/entry/10921/)
-   [Effekseer編 UVスクロールを使ったロゴアニメーションの作成](https://ics.media/entry/11650/)