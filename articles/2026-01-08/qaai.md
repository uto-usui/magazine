---
title: "QAエンジニアがAIで日々の課題を解決した話"
source: "https://engineering.mercari.com/blog/entry/20251203-46bf6511f3/"
publishedDate: "2025-12-07"
category: "engineering"
feedName: "Mercari Engineering"
---

こんにちは。メルカリ ハロでQAエンジニアをしている[@Yu-ga](https://x.com/monsterggg?t=-N08JojGYjJ5db3V4nGExA&s=09)です。

この記事は、[Mercari Advent Calendar 2025](https://engineering.mercari.com/blog/entry/20251126-mercari-advent-calendar-2025/) の7日目の記事です。

## 概要

「この作業、AIで効率化できないかな？」そんな模索をしていた時、人手不足という現実的な課題に直面しました。本記事では、QAエンジニアとして1〜2日で作れる小さなプロトタイプから始め、チームのフィードバックを受けながら実用的なツールに育ててきた実体験を紹介します。

## きっかけと課題

メルカリが「AI Native」への転換を発表する中、QAチームでも「私たちの業務にもAIを取り入れられないか？」という議論が活発になっていました。

限られたリソースの中で品質を維持するには、これまでのやり方を見直す必要があります。そこでチーム全体で集まり、**「今後のQAプロセスをどう進化させるか」「AIでどの部分を効率化できるか」** を議論しました。

話し合いを重ねる中で、「まずは課題解決ツールのプロトタイプを作ってみよう」という共通の方向性が生まれ、限られた時間とリソースの中でQA業務全体の効率化を目指し、AIを活用した新しいQAプロセスの検証が始まりました。

## QAエンジニア以外でもACを書けるようにしたい

メルカリ ハロではQAエンジニアがAcceptance Criteria（以下AC）をJiraのストーリーチケットで作成していましたが、これをQAエンジニア以外でも簡単かつQAエンジニアと同程度の品質で作成できるようにする必要があり「AC Generator」というWebツールを開発しました。

ここでいうAcceptance Criteria（受け入れ基準）とは、**その機能が「完成した」と判断するための具体的な条件**のことです。  
※以前のAC活用に関する取り組みについては[こちらの記事](https://engineering.mercari.com/blog/entry/20241207-mercari-hallo-2024/)もご覧ください。

「AC Generator」の開発にあたっては、「PMやエンジニア全員が使えること」と「人間によるレビュー・修正を必須とすること」を設計の核としました。  
誰もが使えるようにしたのは、単なるQAのリソース不足解消だけが目的ではありません。QAエンジニア以外でもACを作成できるようになれば、開発の初期段階から全員が品質について同じ解像度で議論しやすくなると考えたためです。

また、レビューを必須としたのは、AIに「ある程度の土台」を作ってもらうことで作成のハードルを下げつつ、AI特有の誤り（ハルシネーション）を人間の目で排除するためです。これにより、誰でも効率的に、かつ一定品質以上のACを作成できるようになると考えました。

また、「過去にQAエンジニアが作成したACから厳選した学習データ」をAIに分析させ、AC作成ルールを生成しました。このルールには、AC作成の際の書き方や構造、仕様書からACを抽出する際の観点などが含まれています。

最初のプロトタイプでは、ユーザーがConfluenceの仕様書URLを入力すると、AC作成ルールを元にAIが自動でACを生成し、Web画面で結果を表示、それを人間がレビュー・修正してJiraチケットに起票するという一連のフローを構築しました。このプロトタイプは、AIを用いて1日程度で作成することができました。

![AC Generator システムフロー](https://storage.googleapis.com/prd-engineering-asset/2025/12/795f12cd-pr-rule.png)

実際にPMやエンジニア、QAエンジニアにツールを使用してもらい、SlackやJiraでフィードバックを収集し、それらに一件一件対応しました。例えば「成果物の精度がばらつく」という意見に対してはAIレビュー機能を追加し、「AIに再度修正して欲しい」という要望にはAIフィードバック機能を追加するなど、20件を超えるフィードバックに対応して機能を拡張しました。

![AC Generator 実際の画面](https://storage.googleapis.com/prd-engineering-asset/2025/12/6c823f0d-092a-4a8e-ab7b-b8182158f6e4-1024x886.png)

その結果、PMやエンジニアがACを作成できるようになり、個人差はあるものの**最低限のACが誰でも作成可能な状態** となりました。AC Generatorが一時的に使用できなくなった際に、エンジニアから「AC GeneratorがないとAC作れないよ」という声をいただき、実用的なツールに成長できたことを実感しました。

現在は仕様書とルールベースでの生成に限定されているため、仕様書に記載されていない影響範囲の分析ができませんが、将来的には仕様書全体の取り込みやコードベースを考慮した生成にも発展させていきたいと考えています。

## リグレッションテストケース作成を効率化したい

AC Generatorと同様のアプローチで、リグレッションテストケース作成の効率化にも取り組みました。「ACから重要なものをリグレッションテストに追加する」というプロセスがありましたが、その作業は後回しにされることが多く、**リグレッションテストが増えない** という課題がありました。

そこで、テスト管理ツールの[TestRail](https://www.testrail.com/)に登録されている既存のリグレッションテストとその階層構造をAIに分析させました。これにより、どのようなテストがどのフォルダに分類されるべきかという分類ルールや粒度を学習し、現状の運用に即したリグレッションテスト作成ルールを策定しました。

先ほど紹介したAC Generatorのアーキテクチャをベースに、誰でも簡単に使えることを重視し、ACとルールからリグレッションテストを生成、Web画面で人間がレビュー・修正してTestRailに起票するというフローをAIを用いて1〜2日で構築しました。

![リグレッションテスト Generator システムフロー](https://storage.googleapis.com/prd-engineering-asset/2025/12/eab9ac77-regression-test-generator.png)

このツールにより生成されたテストケースの精度が高く、そのまま使えるレベルのものも多かったため**リグレッションテスト作成の工数は体感で8割程度削減** されました。しかし、作成コストは削減できたものの、リグレッションテスト作成のきっかけ作りには至らず、テスト数の増加効果は限定的でした。

根本的な解決には、作業のトリガーとタイミングの自動化が必要でした。そこで、ACのJiraチケット完了時に自動でリグレッションテスト生成・PR作成を行うワークフローの開発にも着手しましたが、現状まだ実用段階にはなっておりません。

## E2Eテスト作成を効率化したい

E2Eテスト作成においては、テストコードの書き方やTestRailの構造に合わせたファイル設計、Page Object Model、コーディング規約など習得すべき知識が多く、**特定のメンバーに依存してスケールしにくい** という課題がありました。

この課題に対し、既存のE2EテストをAIに分析させてコーディング規約を自動生成し、さらに[Playwrightのベストプラクティス](https://playwright.dev/docs/best-practices)も組み込んだルールを作成しました。  
開発用エディタでの動作を前提としたE2E作成ルールと、TestRailのケースIDからテスト手順などの情報を取得するスクリプトを組み合わせることで、**AIがTestRail情報を基にE2Eテストコードを自動生成できる** ようにしました。このプロトタイプもAIを用いて2日程度で作成することができました。

![E2Eテスト作成効率化フロー](https://storage.googleapis.com/prd-engineering-asset/2025/12/4c27b74b-create-e2e-rule.png)

Page Objectの書き方統一やAPI利用ルールの追加、AIレビュールールの追加など、フィードバックを受けて改善を行った結果、AIによるE2Eテスト作成の精度が向上し、以前よりも効率化されました。  
E2E作成ルールの整備により、チームメンバー誰もが一定品質のE2Eテストを作成できるようになりました。

ただし、生成されたコードには人間によるレビューと修正が必要で、チームメンバーにも基礎知識が求められるため、完全な自動化には至らず、人的コストは残存しています。

## テスト前にコードベースからIssueを検出したい

コードレビューによる問題特定は従来から行っていましたが、得意・不得意な技術領域があり、レビューの質に偏りがあるという課題がありました。

そこで、AIを活用してPRの修正内容（差分）を分析し、仕様書やACと照合してコードベースからバグを検出する取り組みを行いました。

![コードベースIssue検出フロー](https://storage.googleapis.com/prd-engineering-asset/2025/12/331db3b5-ac-generator.png)

QAエンジニアがテストを開始する前にこのチェックを行い、問題点だけでなく解決策もセットでエンジニアにフィードバックするようにしました。その結果、手動テストでは発見困難な問題（動作には影響しない型定義のミスなど）や仕様との齟齬をテスト前に検出できるようになりました。

この取り組みにより、**手動テスト前のIssue発見とコード理解** の両面で大きな効果を得られました。一方で、AIの回答には誤りも多く含まれており、AIの提案を鵜呑みにせず、人間による適切な判断が不可欠であることを学びました。

## 学び

今回の取り組みを通じて、AIは単なる作業自動化の手段にとどまらず、QAエンジニアが抱える課題を自らの手で解決するための強力な武器になることを実感しました。一連のツール開発とチームでの運用を通じて得られた、AI活用における学びを以下にまとめます。

### まずはやってみる

技術的な難易度を事前に考えすぎるより、まず手を動かして動くものを作ることの重要性を実感しました。どの機能も最初のプロトタイプは1〜2日で作成でき、AIを活用すれば想像以上に多くのことが実現可能であることがわかりました。

### フィードバックループを早く回す

1.  最小プロトタイプを1〜2日で作成
2.  みんなに使ってもらう
3.  フィードバックを収集
4.  改善する

このサイクルを早く回すことで、実用的なツールに育ちました。

また、**小さく始めることで失敗のリスクを下げる** ことができました。1〜2日で作れるプロトタイプなら、仮に使われなかったり方向性が間違っていても、投資した時間やコストは最小限で済みます。大規模な開発を始める前に、本当にニーズがあるのか、アプローチが正しいのかを低コストで検証できたことは大きなメリットでした。

多くの人に使ってもらいフィードバックを得ることは簡単ではありませんが、最初のツール紹介の反応をきっかけに、発信の場や伝え方を工夫するようになりました。その結果、より多くのメンバーの目に留まり、さまざまなフィードバックを得ることができました。

プロトタイプは使われなければ成長しないため、開発前から「どうやって使ってもらうか」「どうフィードバックを集めるか」を戦略的に考えることの重要性を学びました。

### 半分の効率化でも十分価値がある

-   AIが頭出し → 人間がレビュー・修正
-   AIが下書き → 人間が仕上げ
-   AIが指摘 → 人間が判断

この協働パターンが最も効果的でした。AIが最初に生成するものには品質のばらつきがあるため、人間によるレビューと修正は必須のプロセスだと思います。

100%の効率化を目指すと、完璧を求めるあまり開発に時間がかかったり、そもそも実現できなかったりします。しかし、50%程度の効率化であれば、短期間で実現でき、すぐに効果を実感できます。

そして重要なのは、削減できた時間で新たな改善に取り組めることです。50%削減で生まれた時間を使って次のツールを作り、さらに効率化を進める。この積み重ねによって、結果的に大きな効率化を実現できました。

### テストを事前に書いておく

AIは想定外の動きをします。フィードバックを元に機能を追加する際に、既存機能を壊してしまうということが散見されました。それを防ぐために、コア機能についてテストを事前に実装し、AIが修正を行う際には必ずテストをクリアすることを必須としました。

例えば、AC Generatorでは以下のようなテストを実装しました。

-   **基本表示テスト**: フォーム要素が正しく表示されるか
-   **バリデーションテスト**: 必須フィールドやURL形式のチェック
-   **完了フローテスト**: フォーム入力からチケット作成完了まで

これらのテストは品質保証だけでなく、**AIに対する仕様の明確化**という重要な役割も果たしました。テストコードが「期待する動作」を具体的に定義することで、AIが修正を行う際の指針となり、意図しない変更を防ぐことができました。

しかし、AIにコード修正を依頼すると、**「テストが通らないから」という理由で、AIが勝手にテストコード側を修正してしまう**という問題も発生しました。これを防ぐために、「テストコードは修正禁止」というルールを明確にAIに与えることで解決しました。

## まとめ

今回の取り組みを通じて、**「経験がないからできない」という時代は終わった**と強く感じました。

AIの登場により、未経験の領域でも成果を出せる可能性が劇的に広がりました。実際、今回のツール開発では、これまで使ったことのない技術やアーキテクチャを容易に取り入れることができました。「やったことがないから無理だ」と諦めていたアイデアも、AIというパートナーがいれば、わずか1〜2日で形にできる時代です。

今回の取り組みで最も強く感じたのは、AI活用において重要なのはプログラミングスキルそのものよりも、「この課題を解決したい」という強い当事者意識だということです。  
「誰かが解決してくれるのを待つ」のではなく、「AIを活用して自分で解決する」。

このマインドセットの変化こそが、業務効率化以上の価値を私自身にもたらしてくれました。AIですべてを100%解決できるとは思いませんが、自らの手で課題を解決し、より本質的な品質保証活動に注力するための強力な武器になると思います。

今後もAIの力を借りながら、品質保証の新しい形を模索し続けていきたいと思います。

明日の記事は @Antony Chane-Hive さんです。引き続きお楽しみください。